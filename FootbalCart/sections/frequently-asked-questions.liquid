<style>
  ul.accordion-list {
    position: relative;
    display: block;
    width: 100%;
    height: auto;
    margin: 0;

  }
  ul.accordion-list li {
    position: relative;
    display: block;
    width: 100%;
    height: auto;
    padding: 15px 20px;
    margin: 0 auto 15px;
    {% comment %}
      border: 1px solid #eee;
    {% endcomment %}
    border-radius: 5px;
    cursor: pointer;
    background: #232D39;
    box-shadow: 8px 10px 11px rgba(0, 0, 0, 0.25);
    border-radius: 10px;
  }
  ul.accordion-list li.active h3:after {
    transform: rotate(180deg);
  }
  ul.accordion-list li h3 {
    font-weight: 700;
    position: relative;
    display: block;
    width: 100%;
    height: auto;
    padding: 0;
    margin: 0;
    font-size: 15px;
    letter-spacing: 0.01em;
    cursor: pointer;
  }
  ul.accordion-list li h3:after {
    content: "";
    font-family: "Font Awesome 5 Free";
    content: "\f107";
    position: absolute;
    right: 0;
    top: 0;
    color: #ffffff;
    transition: all 0.3s ease-in-out;
    font-size: 17px;
  }
</style>

<div class="flex justify-center items-center my-8 sm:my-32">
  <div class="container px-6 sm:px-0">
    <div class="flex flex-col">
      <div class="w-full">
        <h1 class="text-center sm:text-start text-3xl sm:text-5xl lg:text-6xl">{{ section.settings.title }}</h1>
      </div>
      <div class="mt-8 sm:mt-16">
        <ul class="accordion-list">
          {% for block in section.blocks %}
            {% if block.settings.is_visible %}
              <li>
                <div class="flex items-center">
                  <div class="text-white bg-gray-400 rounded-full p-2">
                    {% comment %} {% render 'icon-question' %} {% endcomment %}
                    {% if block.settings.icon %}
                    <img
                      src="{{ block.settings.icon | img_url: '32x32' }}"
                      alt="{{ block.settings.icon.alt }}"
                      class="custom-html-block__icon" />
                  {% endif %}
                  </div>
                  <div class="ml-4 w-full mr-3">
                    <h3>{{ block.settings.title }}</h3>
                  </div>
                </div>
                <div class="answer py-4 ml-16">
                  <p class="text-gray-400">{{ block.settings.content }}</p>
                </div>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Frequently asked questions Blocks",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "default": "Frequently asked questions",
        "label": "Title"
      }
    ],
    "blocks": [
      {
        "type": "html_block",
        "name": "Question block",
        "settings": [
          {
            "id": "icon",
            "type": "image_picker",
            "label": "Icon"
          }, {
            "id": "title",
            "type": "text",
            "label": "Card Title",
            "default": "<p>Your content here...</p>"
          }, {
            "id": "content",
            "type": "richtext",
            "label": "Card Content",
            "default": "<p>Your content here...</p>"
          }, {
            "id": "is_visible",
            "type": "checkbox",
            "label": "Visible",
            "default": true
          }
        ]
      }
    ]
  }
{% endschema %}

<script>
  $(document).ready(function() {
    $('.accordion-list > li > .answer').hide();
    $('.accordion-list > li').click(function() {
      if ($(this).hasClass("active")) {
        $(this).removeClass("active").find(".answer").slideUp();
      } else {
        {% comment %} $(".accordion-list > li.active .answer").slideUp(); {% endcomment %}
        {% comment %} $(".accordion-list > li.active").removeClass("active"); {% endcomment %}
        $(this).addClass("active").find(".answer").slideDown();
      }
      return false;
    });
  });
</script>