{% assign current_collection = collection.handle %}
<div class="sticky top-10">
  <form class="filter-form text-white">
    <ul class="filter-list-mobile">
      <li class="relative" id="first__active-dropdown">
        <div class="flex items-center toggle__filter">
          <div class="w-full mr-3">
            <div class="filters">
              <p class="text-2xl font-normal">Collections</p>
            </div>
          </div>
        </div>
        <div class="answer py-4">
          <div class="py-2">
            <label class="checkbox__container flex items-center">
              <div>
                <p class="opacity-75 font-light text-lg">
                  All collections
                </p>
              </div>
              <div>
                <input
                  type="checkbox"
                  class="filter_input_collection"
                  link="{{routes.all_products_collection_url}}"
                  {% if current_collection == 'all' %}checked{% endif %}>
                <span class="checkmark"></span>
              </div>
            </label>
            {% for collection in collections %}
              {% if collection.all_products_count > 0 and collection.handle != 'additional-options' %}
                <label class="checkbox__container flex items-center">
                  <div>
                    <p class="opacity-75 font-light text-lg">
                      {{ collection.title }}
                    </p>
                  </div>
                  <div>
                    <input
                      type="checkbox"
                      class="filter_input_collection"
                      link="{{collection.url}}"
                      {% if current_collection == collection.handle %}checked{% endif %}>
                    <span class="checkmark"></span>
                  </div>
                </label>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </li>
      {%- for filter in collection.filters -%}
        <div class="w-full flex justify-center items-center mt-4">
          <hr class="w-full opacity-30">
        </div>
        <li class="active">
          <div class="flex items-center toggle__filter relative z-10">
            <div class="w-full mr-3">
              <div class="filters">
                <p class="text-2xl font-normal">{{ filter.label }}</p>
              </div>
            </div>
          </div>
          <div class="answer py-4 active">
            {%- case filter.type -%}
              {%- when 'boolean' or 'list' -%}
              <ul class="filter-group-display__list">
                {%- for filter_value in filter.values -%}
                  <li class="filter-group-display__list-item">
                    <label for="Filter-{{ filter.param_name }}-{{ forloop.index }}" class="checkbox__container flex items-center">
                      <input
                        type="checkbox"
                        name="{{ filter_value.param_name }}"
                        value="{{ filter_value.value }}"
                        class="filter_input"
                        id="Filter-{{ filter.param_name }}-{{ forloop.index }}"
                        {% if filter_value.active -%}checked{%- endif %}
                        {% if filter_value.count == 0 and filter_value.active == false -%}disabled{%- endif %}>{{ filter_value.label }}
                      <span class="checkmark"></span>
                    </label>
                  </li>
                {%- endfor -%}
              </ul>
              {%- when 'price_range' -%}
              <div class="filter-group-display__price-range flex flex-col">
                <div class="filter-group-display__price-range-from">
                  <span>{{ cart.currency.symbol }}</span>
                  <input
                    class="bg-transparent text-gray-500 border-white border-b w-full placeholder:uppercase placeholder:text-white placeholder:opacity-75 px-3 py-1"
                    name="{{ filter.min_value.param_name }}"
                    id="Filter-{{ filter.min_value.param_name }}"
                    {% if filter.min_value.value -%}value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"{%- endif %}type="number"placeholder="0"min="0"max="{{ filter.range_max | money_without_currency | replace: ',', '' }}">

                  <label for="Filter-{{ filter.min_value.param_name }}">From</label>
                </div>
                <div class="filter-group-display__price-range-to">
                  <span>{{ cart.currency.symbol }}</span>

                  <input
                    class="bg-transparent text-gray-500 border-white border-b w-full placeholder:uppercase placeholder:text-white placeholder:opacity-75 px-3 py-1"
                    name="{{ filter.max_value.param_name }}"
                    id="Filter-{{ filter.max_value.param_name }}"
                    {% if filter.max_value.value -%}value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"{%- endif %}type="number"placeholder="{{ filter.range_max | money_without_currency | replace: ',', '' }}"min="0"max="{{ filter.range_max | money_without_currency | replace: ',', '' }}">

                  <label for="Filter-{{ filter.max_value.param_name }}">To</label>
                </div>
              </div>
              <input
                type="submit"
                class="mt-2"
                value="Filter price">

            {%- endcase -%}
          </div>
        </li>
      {% endfor %}
      <div class="filter-group-display__submit"></div>
    </ul>
  </form>
  <div class="w-full mt-8">
    <div class="flex items-center">
      <div class="flex items-center">
        <p>
          {% render 'icon-close' %}
        </p>
      </div>
      <div class="flex items-center">
        <a href="{{ collection.url }}?sort_by={{ collection.sort_by }}" class="active-filters__clear">
          <p class="font-family-kufam italic text-sm pt-1 pl-2">
            Clear Filters
          </p>
        </a>
      </div>
    </div>
  </div>
</div>